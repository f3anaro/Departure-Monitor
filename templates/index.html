<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>{% block title %}Abfahrtsmonitor{% endblock %}</title>

    <link rel="stylesheet" type="text/css" href="css/app.css">

    <link rel="stylesheet" type="text/css" href="bower_components/bootstrap/dist/css/bootstrap.min.css">

    <script src="bower_components/jquery/dist/jquery.min.js"></script>
    <script src="bower_components/bootstrap/dist/js/bootstrap.min.js"></script>

  </head>
  <body>
    {% block body %}
      <div id="wrapper">
        <div class="row">
          <!-- left -->
          <div class="col-md-7">
            {% for street, departures in stops %}
              <h1>{{ street }}</h1>
              <table class="table table-striped table-bordered table-hover">
                <thead>
                  <tr>
                    <th>Linie</th>
                    <th>Richtung</th>
                    <th>In Minuten</th>
                  </tr>
                </thead>          
                <tbody>
                  {% for departure in departures %}
                    <tr>
                      <td>{{ departure[0] }}</td>
                      <td>{{ departure[1] }}</td>
                      <td>{{ departure[2] }}</td>
                    </tr>
                  {% endfor %}
                </tbody>
              </table>
            {% endfor %}
          </div>

          <!-- right -->
          <div class="col-md-5">
            <!-- Weather -->
            <h1 class="text-center">Wetter</h1>
              {% for time, values in weather %}
                <div class="col-md-6 weather-box">
                  <h3 class="text-center">{{ time }}</h3>
                  <p class="text-center">{{ values['text'] }}</p>
                  <p class="text-center">{{ values['max_temp'] }} | {{ values['min_temp'] }} Â°C</p>
                  <div class="row">
                    <p class="col-md-8">Niederschlagswkt:</p>
                    <p class="col-md-4 text-right">{{ values['rainfall'] }} %</p>
                  </div>
                  <div class="row">
                    <p class="col-md-8">Windgeschwindigkeit:</p>
                    <p class="col-md-4 text-right">{{ values['wind'] }} km/h</p>
                  </div>
                </div>
              {% endfor %}
          </div>
        </div>

        {# isn't a marquee really annoying?! :P #}
        <p class="lead"><marquee scrollamount='10' scrolldelay='10'>{{ marquee }}</marquee></p>

        <footer class="row">
          <div class="col-md-6"><p class="text-center">{{ "now" | date("H:i") }}</p></div>
          <div class="col-md-6"><p class="text-center">{{ "now" | date("d.m.Y")  }}</p></div>
        </div>
      </footer>

    {% endblock %}
  </body>
</html>
